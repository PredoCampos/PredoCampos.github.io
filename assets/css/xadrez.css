/**
 * @file xadrez.css
 * @description Estilos para a animação de um padrão de xadrez infinito.
 * @version 2.2.0
 */

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

:root {
    /* -- CORES -- */
    --color-page-background: #1a1a1a;
    --color-tile: rgba(255, 255, 255, 0.15);
    --color-footer-foreground: #ffffff;
    --color-footer-background: #000000;
    --color-footer-stroke: #ffffff;

    /* -- DIMENSÕES DO TABULEIRO -- */
    /**
     * Define o tamanho dos quadrados de forma responsiva com limites.
     * clamp(MÍNIMO, PREFERENCIAL, MÁXIMO)
     * - Mínimo: 35px. Os quadrados nunca serão menores que isto.
     * - Preferencial: 5vmin. Tenta usar 5% da menor dimensão da tela.
     * - Máximo: 75px. Os quadrados nunca serão maiores que isto.
     */
    --tile-size: clamp(35px, 5vmin, 75px);

    /* -- ESTILO DO RODAPÉ -- */
    /* Espessura da borda da camada de trás, relativa ao tamanho do quadrado. */
    --footer-stroke-width-ratio: 0.04; /* 4% do tamanho do quadrado */
    /* Deslocamento horizontal (eixo X) da camada de trás. */
    --footer-offset-x-ratio: 0.06; /* 6% do tamanho do quadrado */
    /* Deslocamento vertical (eixo Y) da camada de trás. */
    --footer-offset-y-ratio: 0.12; /* 12% do tamanho do quadrado */

    /* -- CONVERSÕES PARA PIXELS -- */
    --stroke-width: calc(var(--tile-size) * var(--footer-stroke-width-ratio));
    --offset-x: calc(var(--tile-size) * var(--footer-offset-x-ratio));
    --offset-y: calc(var(--tile-size) * var(--footer-offset-y-ratio));
}

/* Estilos do corpo da página */
body {
    background-color: var(--color-page-background);
    min-height: 100vh;
    overflow: hidden;
    position: relative;
}

body::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: linear-gradient(
        to bottom right,
        rgba(255, 255, 255, 0.15),
        transparent 45%
    );
    z-index: 0;
}

*{
    cursor: url('../images/xadrez/mouse.svg') 14 15, auto;
}

*:active {
    cursor: url('../images/xadrez/mouse-click.svg') 14 15, auto;
}

/* O rodapé funciona como um container para o elemento SVG. */
footer {
    position: fixed;
    bottom: -5vh;
    left: 0;
    width: 100%;
    height: 20vh;
    z-index: 2;
    transform: rotate(-3deg) scale(1.1);
}

/* O SVG deve ocupar todo o espaço do rodapé. */
footer svg {
    width: 100%;
    height: 100%;
    pointer-events: none;
}

/* --- ESTILOS DAS CAMADAS DO RODAPÉ --- */

/* Camada de Trás (deslocada e com borda) */
#footer-background {
    fill: var(--color-footer-background);
    stroke: var(--color-footer-stroke);
    stroke-linejoin: round;
    stroke-width: var(--stroke-width);
    transform: translateX(var(--offset-x)) translateY(calc(var(--offset-y) * -1));
}

/* Camada da Frente (principal) */
#footer-foreground {
    fill: var(--color-footer-foreground);
    stroke: none;
    transform: translate(0, 0);
}

/* Container para o grid infinito */
.infinite-grid {
    position: absolute;
    top: 50%;
    left: 20%;
    width: 200%;
    height: 300%;
    z-index: 1;
    overflow: hidden;
    transform: translate(-50%, -50%) rotate(78deg) scale(1);
}

/* Estilo dos quadrados individuais do padrão de xadrez */
.chess-square {
    position: absolute;
    top: 0;
    left: 0;
    width: var(--tile-size);
    aspect-ratio: 1;
    background-color: var(--color-tile);
    box-shadow: 0 0 12px rgba(0, 0, 0, 0.25);
    will-change: transform;
}