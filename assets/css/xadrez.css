/**
 * @file xadrez.css
 * @description Estilos para a animação de um padrão de xadrez infinito.
 * @version 2.1.0
 */

/* Reset básico para remover margens e preenchimentos padrão. */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

/*
  Define variáveis CSS globais para centralizar todas as configurações de design.
  Isto facilita a personalização do visual sem alterar a lógica das regras.
*/
:root {
    /* -- CORES -- */
    --color-page-background: #1a1a1a;
    --color-tile: rgba(255, 255, 255, 0.15);
    --color-footer-foreground: #ffffff;
    --color-footer-background: #000000;
    --color-footer-stroke: #ffffff;

    /* -- DIMENSÕES DO TABULEIRO -- */
    /**
     * Define o tamanho dos quadrados de forma responsiva com limites.
     * clamp(MÍNIMO, PREFERENCIAL, MÁXIMO)
     * - Mínimo: 35px. Os quadrados nunca serão menores que isto.
     * - Preferencial: 5vmin. Tenta usar 5% da menor dimensão da tela.
     * - Máximo: 75px. Os quadrados nunca serão maiores que isto.
     */
    --tile-size: clamp(35px, 5vmin, 75px);

    /* -- ESTILO DO RODAPÉ -- */
    /* Espessura da borda da camada de trás, relativa ao tamanho do quadrado. */
    --footer-stroke-width-ratio: 0.04; /* 4% do tamanho do quadrado */
    /* Deslocamento horizontal (eixo X) da camada de trás. */
    --footer-offset-x-ratio: 0.06; /* 6% do tamanho do quadrado */
    /* Deslocamento vertical (eixo Y) da camada de trás. */
    --footer-offset-y-ratio: 0.12; /* 12% do tamanho do quadrado */

    /* -- CONVERSÕES PARA PIXELS (USADAS NAS REGRAS ABAIXO) -- */
    --stroke-width: calc(var(--tile-size) * var(--footer-stroke-width-ratio));
    --offset-x: calc(var(--tile-size) * var(--footer-offset-x-ratio));
    --offset-y: calc(var(--tile-size) * var(--footer-offset-y-ratio));
}

/* Estilos do corpo da página */
body {
    background-color: var(--color-page-background);
    min-height: 100vh;
    overflow: hidden; /* Impede barras de rolagem */
    position: relative;
    background-image: linear-gradient(
        to bottom right,
        rgba(255, 255, 255, 0.15),
        transparent 45%
    );
    cursor: url('../images/xadrez/mouse.svg'), auto;
}

body:active {
    cursor: url('../images/xadrez/mouse-click.svg'), auto;
}

/* O rodapé funciona como um container para o elemento SVG. */
footer {
    position: fixed;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 14vh;
    z-index: 2; /* Garante que o rodapé fique sobre o grid */
}

/* O SVG deve ocupar todo o espaço do rodapé. */
footer svg {
    width: 100%;
    height: 100%;
    pointer-events: none; /* Permite cliques através do SVG, se necessário */
}


/* --- ESTILOS DAS CAMADAS DO RODAPÉ (AGORA COM VARIÁVEIS) --- */

/* Camada de Trás (deslocada e com borda) */
#footer-background {
    fill: var(--color-footer-background);
    stroke: var(--color-footer-stroke);
    stroke-linejoin: round; /* Bordas arredondadas para um visual mais suave */
    stroke-width: var(--stroke-width);
    /* O transform agora usa as variáveis calculadas para o deslocamento. */
    transform: translateX(var(--offset-x)) translateY(calc(-1 * var(--offset-y)));
}

/* Camada da Frente (principal) */
#footer-foreground {
    fill: var(--color-footer-foreground);
    stroke: none;
    transform: translate(0, 0);
}


/* Container para o grid infinito */
.infinite-grid {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 1;
    overflow: hidden;
}

/* Estilo dos quadrados individuais do padrão de xadrez */
.chess-square {
    position: absolute;
    width: var(--tile-size);
    aspect-ratio: 1; /* Garante que a altura seja igual à largura */
    background-color: var(--color-tile);
    box-shadow: 0 0 12px rgba(0, 0, 0, 0.25);
    /* Centraliza o quadrado na sua posição de `left` e `top`. */
    transform: translate(-50%, -50%);
    /* Otimização de performance: indica ao navegador que a propriedade `transform` vai mudar. */
    will-change: transform;
}